# C4DToWebSceneExport
a recipe for export scene &amp; animation data to web

## Dependencies

1. Gulp
2. Greensock Animation Libraries
3. Three.js for binding to Three scene. 

## How to use?

1. Export Collada(DAE) from Cinema 4D and save it to 3d/input
2. run `gulp dae`
3. the process will generate two files: [filename]-animation.js and [filename]-scene.js
5. scene.js file is generated by the python script by @zfedoran / http://github.com/zfedoran. 
6. load scene.js file into ur THREE.js app, and use the Animation class to bind the animatino data in animation.js to the exported scene. 

## What Can Be Exported?

Currently only PSR can be exported. However, you can intepret the output data however you want! For example, you can bind one Null Object's position x to your main camera's FOV. 

To preview that in Cinema4D, you can use XPRESSO to connect that. 

Due to a limitation a while a go with GSAP CustomEase. It wasn't easy to replicate the exact curve in Cinema4D with it. So now Animation class only represent stepped, linear, and Power2.easeInOut curve between keyframes correctly. 

Last time I checked they moved on to a new way to create CustomEase. Hopefully I will have sometime to fill this gap sometimes.

## Notes

- Always go back to frame 0, or where the animation starts, before exporting. Otherwise Cinema4D will export the current state of the scene in that frame, potentially result in inaccurate animation. 
- The python script's original author is @zfedoran / http://github.com/zfedoran. The one includes in this repo is a modified version. Which:
  - Use camera.FieldOfViewY.Get() instead of camera.FieldOfView.Get()
  - Clean up and shorten float numbers for smaller output files. 
  - Slightly shorter names for objects. 
  - way to specify exported material type. 

## Specify Material Type in Cinema4D

To export "MeshStandardMaterial", name the material with "standard" or "std:"

To export "MeshLambertMaterial", name the material with "lambert" or "lam:"

## Workflow

You can use `gulp watch-dae` to watch all the dae files in input folder. Along with the C4D Export DAE shortcut `exportDAE.py`, you can streamline the workflow from C4D to Javascript a little bit better. 

## Why COLLADA(DAE)

DAE files are written in XML, it is slightly easier for me to harvest data out of it. 

## Roadmap

The first thing could be the easing function

I realized that I often want to insert interactive parts into my scene. Therefore I want to write a script which output scene.js from the DAE file, without relying on Autodesk's FBX library. 

I would like to have a scene.js export pipeline which can do the following...

1. A sphere object in Cinema 4D will only be exported as a call to use THREE.SphereGeometry. 
2. Export light sources more accurately, or with more custom flags. 

## Collaboration

Feel free to send me pull requests and open issues about anything. 


